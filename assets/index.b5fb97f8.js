import{a8 as O,N as W,r as b,a3 as C,ak as L,aa as M,al as D,L as S,am as F,o as R}from"./entry.ddad1708.js";function k(e,n){let o,t,i;const s=b(!0),d=()=>{s.value=!0,i()};C(e,d,{flush:"sync"});const u=typeof n=="function"?n:n.get,l=typeof n=="function"?void 0:n.set,f=L((a,m)=>(t=a,i=m,{get(){return s.value&&(o=u(),s.value=!1),t(),o},set(r){l==null||l(r)}}));return Object.isExtensible(f)&&(f.trigger=d),f}function P(e){return O()?(M(e),!0):!1}function w(e){return typeof e=="function"?e():W(e)}const T=typeof window<"u",N=e=>e!=null,y=()=>{},j=B();function B(){var e;return T&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function q(e,n){function o(...t){return new Promise((i,s)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(i).catch(s)})}return o}function V(e,n={}){let o,t,i=y;const s=u=>{clearTimeout(u),i(),i=y};return u=>{const l=w(e),f=w(n.maxWait);return o&&s(o),l<=0||f!==void 0&&f<=0?(t&&(s(t),t=null),Promise.resolve(u())):new Promise((a,m)=>{i=n.rejectOnCancel?m:a,f&&!t&&(t=setTimeout(()=>{o&&s(o),t=null,a(u())},f)),o=setTimeout(()=>{t&&s(t),t=null,a(u())},l)})}}function K(e,n=200,o={}){return q(V(n,o),e)}function $(e,n,o={}){const{immediate:t=!0}=o,i=b(!1);let s=null;function d(){s&&(clearTimeout(s),s=null)}function u(){i.value=!1,d()}function l(...f){d(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,e(...f)},w(n))}return t&&(i.value=!0,T&&l()),P(u),{isPending:D(i),start:l,stop:u}}function h(e){var n;const o=w(e);return(n=o==null?void 0:o.$el)!=null?n:o}const x=T?window:void 0,z=T?window.navigator:void 0;function E(...e){let n,o,t,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,t,i]=e,n=x):[n,o,t,i]=e,!n)return y;Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t]);const s=[],d=()=>{s.forEach(a=>a()),s.length=0},u=(a,m,r,c)=>(a.addEventListener(m,r,c),()=>a.removeEventListener(m,r,c)),l=C(()=>[h(n),w(i)],([a,m])=>{d(),a&&s.push(...o.flatMap(r=>t.map(c=>u(a,r,c,m))))},{immediate:!0,flush:"post"}),f=()=>{l(),d()};return P(f),f}let _=!1;function Q(e,n,o={}){const{window:t=x,ignore:i=[],capture:s=!0,detectIframe:d=!1}=o;if(!t)return;j&&!_&&(_=!0,Array.from(t.document.body.children).forEach(r=>r.addEventListener("click",y)),t.document.documentElement.addEventListener("click",y));let u=!0;const l=r=>i.some(c=>{if(typeof c=="string")return Array.from(t.document.querySelectorAll(c)).some(p=>p===r.target||r.composedPath().includes(p));{const p=h(c);return p&&(r.target===p||r.composedPath().includes(p))}}),a=[E(t,"click",r=>{const c=h(e);if(!(!c||c===r.target||r.composedPath().includes(c))){if(r.detail===0&&(u=!l(r)),!u){u=!0;return}n(r)}},{passive:!0,capture:s}),E(t,"pointerdown",r=>{const c=h(e);c&&(u=!r.composedPath().includes(c)&&!l(r))},{passive:!0}),d&&E(t,"blur",r=>{setTimeout(()=>{var c;const p=h(e);((c=t.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(p!=null&&p.contains(t.document.activeElement))&&n(r)},0)})].filter(Boolean);return()=>a.forEach(r=>r())}function G(e={}){var n;const{window:o=x,deep:t=!0}=e,i=(n=e.document)!=null?n:o==null?void 0:o.document,s=()=>{var u;let l=i==null?void 0:i.activeElement;if(t)for(;l!=null&&l.shadowRoot;)l=(u=l==null?void 0:l.shadowRoot)==null?void 0:u.activeElement;return l},d=k(()=>null,()=>s());return o&&(E(o,"blur",u=>{u.relatedTarget===null&&d.trigger()},!0),E(o,"focus",d.trigger,!0)),d}function H(){const e=b(!1);return F()&&R(()=>{e.value=!0}),e}function I(e){const n=H();return S(()=>(n.value,!!e()))}function U(e={}){const{navigator:n=z,read:o=!1,source:t,copiedDuring:i=1500,legacy:s=!1}=e,d=I(()=>n&&"clipboard"in n),u=S(()=>d.value||s),l=b(""),f=b(!1),a=$(()=>f.value=!1,i);function m(){d.value?n.clipboard.readText().then(v=>{l.value=v}):l.value=p()}u.value&&o&&E(["copy","cut"],m);async function r(v=w(t)){u.value&&v!=null&&(d.value?await n.clipboard.writeText(v):c(v),l.value=v,f.value=!0,a.start())}function c(v){const g=document.createElement("textarea");g.value=v??"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function p(){var v,g,A;return(A=(g=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:g.toString())!=null?A:""}return{isSupported:u,text:l,copied:f,copy:r}}function X(e,n,o={}){const{root:t,rootMargin:i="0px",threshold:s=.1,window:d=x,immediate:u=!0}=o,l=I(()=>d&&"IntersectionObserver"in d),f=S(()=>{const p=w(e);return(Array.isArray(p)?p:[p]).map(h).filter(N)});let a=y;const m=b(u),r=l.value?C(()=>[f.value,h(t),m.value],([p,v])=>{if(a(),!m.value||!p.length)return;const g=new IntersectionObserver(n,{root:h(v),rootMargin:i,threshold:s});p.forEach(A=>A&&g.observe(A)),a=()=>{g.disconnect(),a=y}},{immediate:u,flush:"post"}):y,c=()=>{a(),r(),m.value=!1};return P(c),{isSupported:l,isActive:m,pause(){a(),m.value=!1},resume(){m.value=!0},stop:c}}function Y(e,n={}){const o=G(n),t=S(()=>h(e));return{focused:S(()=>t.value&&o.value?t.value.contains(o.value):!1)}}export{h as a,K as b,Y as c,U as d,Q as o,P as t,X as u};
